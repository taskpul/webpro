import{j as e,r as l,O as N,I as C,b as k,C as T,H as g,ai as E,cr as u,J as v,cs as O,ct as K,a1 as P,cu as c,bZ as A,cv as B,bG as D,L as R}from"./index-DdOSbXML.js";import{T as I}from"./Trans-vJDrnLfE.js";var y=({data:r})=>{const{t:a}=k(),s=Object.keys(r).length;return e.jsxs(T,{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(g,{level:"h2",children:a("json.header")}),e.jsx(E,{size:"2xsmall",rounded:"full",children:a("json.numberOfKeys",{count:s})})]}),e.jsxs(u,{children:[e.jsx(u.Trigger,{asChild:!0,children:e.jsx(v,{size:"small",variant:"transparent",className:"text-ui-fg-muted hover:text-ui-fg-subtle",children:e.jsx(O,{})})}),e.jsxs(u.Content,{className:"bg-ui-contrast-bg-base text-ui-code-fg-subtle !shadow-elevation-commandbar overflow-hidden border border-none max-md:inset-x-2 max-md:max-w-[calc(100%-16px)]",children:[e.jsxs("div",{className:"bg-ui-code-bg-base flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(u.Title,{asChild:!0,children:e.jsx(g,{className:"text-ui-contrast-fg-primary",children:e.jsx(I,{i18nKey:"json.drawer.header",count:s,components:[e.jsx("span",{className:"text-ui-fg-subtle"},"count-span")]})})}),e.jsx(u.Description,{className:"sr-only",children:a("json.drawer.description")})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(K,{className:"bg-ui-contrast-bg-subtle border-ui-contrast-border-base text-ui-contrast-fg-secondary",children:"esc"}),e.jsx(u.Close,{asChild:!0,children:e.jsx(v,{size:"small",variant:"transparent",className:"text-ui-contrast-fg-secondary hover:text-ui-contrast-fg-primary hover:bg-ui-contrast-bg-base-hover active:bg-ui-contrast-bg-base-pressed focus-visible:bg-ui-contrast-bg-base-hover focus-visible:shadow-borders-interactive-with-active",children:e.jsx(P,{})})})]})]}),e.jsx(u.Body,{className:"flex flex-1 flex-col overflow-hidden px-[5px] py-0 pb-[5px]",children:e.jsx("div",{className:"bg-ui-contrast-bg-subtle flex-1 overflow-auto rounded-b-[4px] rounded-t-lg p-3",children:e.jsx(l.Suspense,{fallback:e.jsx("div",{className:"flex size-full flex-col"}),children:e.jsxs(c,{value:r,displayDataTypes:!1,style:{"--w-rjv-font-family":"Roboto Mono, monospace","--w-rjv-line-color":"var(--contrast-border-base)","--w-rjv-curlybraces-color":"var(--contrast-fg-secondary)","--w-rjv-brackets-color":"var(--contrast-fg-secondary)","--w-rjv-key-string":"var(--contrast-fg-primary)","--w-rjv-info-color":"var(--contrast-fg-secondary)","--w-rjv-type-string-color":"var(--tag-green-icon)","--w-rjv-quotes-string-color":"var(--tag-green-icon)","--w-rjv-type-boolean-color":"var(--tag-orange-icon)","--w-rjv-type-int-color":"var(--tag-orange-icon)","--w-rjv-type-float-color":"var(--tag-orange-icon)","--w-rjv-type-bigint-color":"var(--tag-orange-icon)","--w-rjv-key-number":"var(--contrast-fg-secondary)","--w-rjv-arrow-color":"var(--contrast-fg-secondary)","--w-rjv-copied-color":"var(--contrast-fg-secondary)","--w-rjv-copied-success-color":"var(--contrast-fg-primary)","--w-rjv-colon-color":"var(--contrast-fg-primary)","--w-rjv-ellipsis-color":"var(--contrast-fg-secondary)"},collapsed:1,children:[e.jsx(c.Quote,{render:()=>e.jsx("span",{})}),e.jsx(c.Null,{render:()=>e.jsx("span",{className:"text-ui-tag-red-icon",children:"null"})}),e.jsx(c.Undefined,{render:()=>e.jsx("span",{className:"text-ui-tag-blue-icon",children:"undefined"})}),e.jsx(c.CountInfo,{render:(t,{value:n})=>e.jsx("span",{className:"text-ui-contrast-fg-secondary ml-2",children:a("general.items",{count:Object.keys(n).length})})}),e.jsx(c.Arrow,{children:e.jsx(A,{className:"text-ui-contrast-fg-secondary -ml-[0.5px]"})}),e.jsx(c.Colon,{children:e.jsx("span",{className:"mr-1",children:":"})}),e.jsx(c.Copied,{render:({style:t},{value:n})=>e.jsx(J,{style:t,value:n})})]})})})})]})]})]})},J=({style:r,value:a})=>{const[s,t]=l.useState(!1),n=i=>{if(i.stopPropagation(),t(!0),typeof a=="string")navigator.clipboard.writeText(a);else{const f=JSON.stringify(a,null,2);navigator.clipboard.writeText(f)}setTimeout(()=>{t(!1)},2e3)},o={whiteSpace:"nowrap",width:"20px"};return s?e.jsx("span",{style:{...r,...o},children:e.jsx(B,{className:"text-ui-contrast-fg-primary"})}):e.jsx("span",{style:{...r,...o},onClick:n,children:e.jsx(D,{className:"text-ui-contrast-fg-secondary"})})},b=({data:r,href:a="metadata/edit"})=>{const{t:s}=k();if(!r||!("metadata"in r))return null;const t=r.metadata?Object.keys(r.metadata).length:0;return e.jsxs(T,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(g,{level:"h2",children:s("metadata.header")}),e.jsx(E,{size:"2xsmall",rounded:"full",children:s("metadata.numberOfKeys",{count:t})})]}),e.jsx(v,{size:"small",variant:"transparent",className:"text-ui-fg-muted hover:text-ui-fg-subtle",asChild:!0,children:e.jsx(R,{to:a,children:e.jsx(O,{})})})]})},U=({children:r,widgets:a,data:s,hasOutlet:t=!0,showJSON:n,showMetadata:o})=>{const{before:i,after:f}=a,j={data:s};return n&&!s&&(console.warn("`showJSON` is true but no data is provided. To display JSON, provide data prop."),n=!1),o&&!s&&(console.warn("`showMetadata` is true but no data is provided. To display metadata, provide data prop."),o=!1),e.jsxs("div",{className:"flex flex-col gap-y-3",children:[i.map((p,m)=>l.createElement(p,{...j,key:m})),r,f.map((p,m)=>l.createElement(p,{...j,key:m})),o&&e.jsx(b,{data:s}),n&&e.jsx(y,{data:s}),t&&e.jsx(N,{})]})},_=({children:r,widgets:a,data:s,showJSON:t=!1,showMetadata:n=!1,hasOutlet:o=!0})=>{const i={data:s},{before:f,after:j,sideBefore:p,sideAfter:m}=a;t&&!s&&(console.warn("`showJSON` is true but no data is provided. To display JSON, provide data prop."),t=!1),n&&!s&&(console.warn("`showMetadata` is true but no data is provided. To display metadata, provide data prop."),n=!1);const h=l.Children.toArray(r);if(h.length!==2)throw new Error("TwoColumnPage expects exactly two children");const[S,z]=h,w=t||n;return e.jsxs("div",{className:"flex w-full flex-col gap-y-3",children:[f.map((d,x)=>l.createElement(d,{...i,key:x})),e.jsxs("div",{className:"flex w-full flex-col items-start gap-x-4 gap-y-3 xl:grid xl:grid-cols-[minmax(0,_1fr)_440px]",children:[e.jsxs("div",{className:"flex w-full min-w-0 flex-col gap-y-3",children:[S,j.map((d,x)=>l.createElement(d,{...i,key:x})),w&&e.jsxs("div",{className:"hidden flex-col gap-y-3 xl:flex",children:[n&&e.jsx(b,{data:s}),t&&e.jsx(y,{data:s})]})]}),e.jsxs("div",{className:"flex w-full flex-col gap-y-3 xl:mt-0",children:[p.map((d,x)=>l.createElement(d,{...i,key:x})),z,m.map((d,x)=>l.createElement(d,{...i,key:x})),w&&e.jsxs("div",{className:"flex flex-col gap-y-3 xl:hidden",children:[n&&e.jsx(b,{data:s}),t&&e.jsx(y,{data:s})]})]})]}),o&&e.jsx(N,{})]})},q=({children:r,className:a,...s})=>e.jsx("div",{className:C("flex w-full flex-col gap-y-3",a),...s,children:r}),H=({children:r,className:a,...s})=>e.jsx("div",{className:C("flex w-full max-w-[100%] flex-col gap-y-3 xl:mt-0 xl:max-w-[440px]",a),...s,children:r}),V=Object.assign(_,{Main:q,Sidebar:H});export{y as J,U as S,V as T};
