import{C as b}from"./chunk-SCBXRJPV-D0itbQDa.js";import{K as I}from"./chunk-6HTZNHPT-XB1WuBsp.js";import{b as u,u as F}from"./chunk-4TC5YS65-CQLRrj-3.js";import{ap as w,aD as x,ar as m,ab as C,b as y,eR as E,j as e,H as _,aw as L,ax as M,eX as S,t as g,W as r,X as c,B as v}from"./index-DdOSbXML.js";var A=w({height:x().positive().optional(),width:x().positive().optional(),length:x().positive().optional(),weight:x().positive().optional(),mid_code:m().optional(),material:m().optional(),hs_code:m().optional(),origin_country:m().optional()}),R=t=>({height:t.height??void 0,width:t.width??void 0,length:t.length??void 0,weight:t.weight??void 0,mid_code:t.mid_code??void 0,material:t.material??void 0,hs_code:t.hs_code??void 0,origin_country:t.origin_country??void 0}),T=({item:t})=>{const{t:s}=y(),{handleSuccess:h}=F(),o=L({defaultValues:R(t),resolver:M(A)}),{mutateAsync:j,isPending:p}=S(t.id),f=o.handleSubmit(async n=>{await j(n,{onSuccess:()=>{g.success(s("inventory.toast.updateItem")),h()},onError:i=>g.error(i.message)})});return e.jsx(u.Form,{form:o,children:e.jsxs(I,{onSubmit:f,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(u.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(r.Field,{control:o.control,name:"height",render:({field:{onChange:n,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.height")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;n(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"width",render:({field:{onChange:n,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.width")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;n(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"length",render:({field:{onChange:n,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.length")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;n(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"weight",render:({field:{onChange:n,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.weight")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;n(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"mid_code",render:({field:n})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(c,{...n})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"hs_code",render:({field:n})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(c,{...n})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"material",render:({field:n})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.material")}),e.jsx(r.Control,{children:e.jsx(c,{...n})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"origin_country",render:({field:n})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(b,{...n})}),e.jsx(r.ErrorMessage,{})]})})]}),e.jsx(u.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(u.Close,{asChild:!0,children:e.jsx(v,{variant:"secondary",size:"small",children:s("actions.cancel")})}),e.jsx(v,{type:"submit",size:"small",isLoading:p,children:s("actions.save")})]})})]})})},P=()=>{const{id:t}=C(),{t:s}=y(),{inventory_item:h,isPending:o,isError:j,error:p}=E(t),f=!o&&h;if(j)throw p;return e.jsxs(u,{children:[e.jsx(u.Header,{children:e.jsx(_,{children:s("products.editAttributes")})}),f&&e.jsx(T,{item:h})]})};export{P as Component};
