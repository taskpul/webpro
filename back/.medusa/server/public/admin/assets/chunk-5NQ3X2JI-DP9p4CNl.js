import{g as O,i as A}from"./chunk-EHAU7SOS-CLzxgcUB.js";import{I as D}from"./chunk-EQTBJSBZ-CRnjK8Rg.js";import{r as p,b as f,j as a,cc as E,bA as L,I as y,Z as S,H as I,af as w,bK as T,L as z,A as M,ah as U,P as $,T as B,u as H,g as P,gc as W,t as m}from"./index-DdOSbXML.js";import{u as Y}from"./chunk-X6DSNTTX-DgEWeghe.js";import{R as q}from"./react-country-flag.esm-BcOmqiZW.js";var F=Object.defineProperty,g=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,_=(s,t,e)=>t in s?F(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,K=(s,t)=>{for(var e in t)C.call(t,e)&&_(s,e,t[e]);if(g)for(var e of g(t))N.call(t,e)&&_(s,e,t[e]);return s},V=(s,t)=>{var e={};for(var n in s)C.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&g)for(var n of g(s))t.indexOf(n)<0&&N.call(s,n)&&(e[n]=s[n]);return e};const R=p.forwardRef((s,t)=>{var e=s,{color:n="currentColor"}=e,i=V(e,["color"]);return p.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},i),p.createElement("path",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.437 4.814c0 2.319-3.937 6.464-3.937 6.464S3.563 7.134 3.563 4.814c0-2.378 2.035-3.758 3.937-3.758s3.937 1.38 3.937 3.758"}),p.createElement("path",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.5 6.167a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667M13.056 13.945H1.944"}))});R.displayName="MapPin";var Z=({taxRegion:s,to:t="/settings/tax-regions"})=>{const{t:e}=f(),n=H(),i=P(),{mutateAsync:c}=W(s.id);return async()=>{await i({title:e("general.areYouSure"),description:e("taxRegions.delete.confirmation"),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await c(void 0,{onSuccess:()=>{m.success(e("taxRegions.delete.successToast")),n(t,{replace:!0})},onError:r=>{m.error(r.message)}})}},se=s=>{const{t}=f(),e=P(),{mutateAsync:n}=Y(s.id);return async()=>{await e({title:t("general.areYouSure"),description:t("taxRegions.taxRates.delete.confirmation",{name:s.name}),confirmText:t("actions.delete"),cancelText:t("actions.cancel")})&&await n(void 0,{onSuccess:()=>{m.success(t("taxRegions.taxRates.delete.successToast"))},onError:d=>{m.error(d.message)}})}},ae=({taxRegion:s,type:t="list",variant:e="country",asLink:n=!0,badge:i})=>{const{t:c}=f(),{id:d,country_code:l,province_code:r}=s,o=L(l),h=O(r);let u="N/A",x=null;h||r?u=h||r.toUpperCase():(o||l)&&(u=o?o.display_name:l.toUpperCase()),l&&r&&!A(l,r)&&(u=r.toUpperCase(),x=c("taxRegions.fields.sublevels.tooltips.notPartOfCountry",{country:o==null?void 0:o.display_name,province:r.toUpperCase()}));const v=!s.tax_rates.filter(k=>k.is_default).length&&t==="header",j=a.jsxs("div",{className:y("group-data-[link=true]:hover:bg-ui-bg-base-hover transition-fg flex flex-col justify-between gap-y-4 px-6 md:flex-row md:items-center md:gap-y-0",{"py-4":t==="header","py-3":t==="list"}),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-x-4",children:[a.jsx(D,{size:t==="list"?"small":"large",children:l&&!r?a.jsx("div",{className:y("flex size-fit items-center justify-center overflow-hidden rounded-[1px]",{"rounded-sm":t==="header"}),children:a.jsx(q,{countryCode:l,svg:!0,style:t==="list"?{width:"12px",height:"9px"}:{width:"16px",height:"12px"},"aria-label":o==null?void 0:o.display_name})}):a.jsx(R,{className:"text-ui-fg-subtle"})}),a.jsx("div",{children:t==="list"?a.jsx(S,{size:"small",weight:"plus",leading:"compact",children:u}):a.jsx("div",{className:"flex items-center gap-x-2",children:a.jsx(I,{children:u})})})]}),a.jsxs("div",{className:"flex size-fit items-center gap-x-2 md:hidden",children:[x&&a.jsx(w,{content:x,children:a.jsx(T,{className:"text-ui-tag-orange-icon"})}),i,a.jsx(b,{taxRegion:s,showCreateDefaultTaxRate:v})]})]}),a.jsxs("div",{className:"hidden size-fit items-center gap-x-2 md:flex",children:[x&&a.jsx(w,{content:x,children:a.jsx(T,{className:"text-ui-tag-orange-icon"})}),i,a.jsx(b,{taxRegion:s,showCreateDefaultTaxRate:v})]})]});return n?a.jsx(z,{to:e==="country"?`${d}`:`provinces/${d}`,"data-link":"true",className:"group block",children:j}):j},b=({taxRegion:s,showCreateDefaultTaxRate:t})=>{const{t:e}=f(),n=!!s.parent_id,i=n?`/settings/tax-regions/${s.parent_id}`:void 0,c=Z({taxRegion:s,to:i});return a.jsx(M,{groups:[...t?[{actions:[{icon:a.jsx(U,{}),label:e("taxRegions.fields.defaultTaxRate.action"),to:"tax-rates/create"}]}]:[],{actions:[!n&&{icon:a.jsx($,{}),label:e("actions.edit"),to:`/settings/tax-regions/${s.id}/edit`},{icon:a.jsx(B,{}),label:e("actions.delete"),onClick:c}].filter(Boolean)}]})},G=p.forwardRef((s,t)=>{const{t:e}=f(),n={of:e("general.of"),results:e("general.results"),pages:e("general.pages"),prev:e("general.prev"),next:e("general.next")};return a.jsx(E.Pagination,{...s,translations:n,ref:t})});G.displayName="LocalizedTablePagination";export{G as L,ae as T,se as u};
